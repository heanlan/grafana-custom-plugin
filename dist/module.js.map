{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"@grafana/data\"","webpack:///../node_modules/react-load-script/lib/index.js","webpack:///../node_modules/prop-types/index.js","webpack:///../node_modules/prop-types/factoryWithThrowingShims.js","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///../node_modules/react-google-charts/dist/index.esm.js","webpack:///./module.ts","webpack:///./SankeyPanel.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","obj","_createClass","defineProperties","target","props","length","descriptor","configurable","writable","Constructor","protoProps","staticProps","_react","_react2","default","_propTypes","Script","_React$Component","instance","TypeError","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scriptLoaderId","constructor","idCount","subClass","superClass","setPrototypeOf","_inherits","_props","onError","onLoad","url","loadedScripts","erroredScripts","scriptObservers","_defineProperty","createScript","observers","_this2","_props2","onCreate","attributes","script","document","createElement","keys","forEach","prop","setAttribute","src","hasAttribute","async","callObserverFuncAndRemoveObserver","shouldRemoveObserver","onload","observer","onerror","body","appendChild","Component","propTypes","PropTypes","func","isRequired","string","defaultProps","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","Error","getShim","ReactPropTypes","array","bigint","bool","number","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","extendStatics","b","Array","__extends","__","__assign","assign","arguments","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","pop","push","chartDefaultProps","graph_id","legend_toggle","graphID","options","colors","data","rows","columns","diffdata","chartEvents","legendToggle","chartActions","getChartWrapper","chartWrapper","google","getChartEditor","className","style","formatters","spreadSheetUrl","spreadSheetQueryParameters","headers","gid","rootProps","chartWrapperParams","controls","render","toolbarItems","toolbarID","_super","GoogleChartLoader","handleGoogleChartsLoaderScriptLoaded","windowGoogleCharts","_a","version","chartVersion","packages","chartPackages","language","chartLanguage","mapsApiKey","charts","load","setOnLoadCallback","shouldComponentUpdate","nextProps","windowWithGoogle","window","uniqueID","generateUniqueID","DEFAULT_CHART_COLORS","loadDataTableFromSpreadSheet","googleViz","urlParams","undefined","queryString","query","encodeURIComponent","sheet","access_token","urlToSpreadSheet","visualization","Query","send","response","isError","getMessage","getDetailedMessage","getDataTable","Provider","Consumer","ContextProvider","children","ContextConsumer","context","GoogleChartDataTableInner","state","hiddenColumns","listenToLegendToggle","googleChartWrapper","events","addListener","selection","getChart","getSelection","dataTable","row","columnIndex","column","columnID","getColumnID","includes","setState","filter","colID","slice","concat","applyFormatters","_i","formatters_1","formatter","type","vizFormatter","ArrowFormat","format","BarFormat","ColorFormat","ranges_1","ranges","range","addRange","DateFormat","NumberFormat","PatternFormat","getColumnId","getColumnLabel","draw","chartType","_b","chartDiff","oldData","newData","columnCount","previousColumnLabel","previousColumnID","previousColumnType","chart","_c","arrayToDataTable","old","new","computeDiff","isArray","DataTable","getNumberOfColumns","getColumnType","removeColumn","addColumn","id","getChartType","clearChart","setChartType","setOptions","setDataTable","googleChartDashboard","grayOutHiddenColumns","from","map","dontcare","onResize","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","removeAllListeners","componentDidUpdate","GoogleChartDataTable","GoogleChartEvents","listenToEvents","_loop_1","event_1","eventName","callback","args","eventArgs","chartEvents_1","propsFromContext","controlCounter","GoogleChart","googleChartControls","googleChartEditor","isReady","dashboard_ref","toolbar_ref","getGraphID","instanceGraphID","getControlID","index","addControls","control","controlIDMaybe","controlID","controlType","controlOptions","controlWrapperParams","controlProp","ControlWrapper","containerId","chartControl","controlEvents","_loop_2","removeListener","controlWrapper","controlEvents_1","googleChartControls_1","renderChart","width","height","divStyle","renderControl","getContainerId","renderToolBar","ref","chartConfig","ChartWrapper","Dashboard","drawToolbar","current","chartEditor","ChartEditor","setControlType","nextState","renderToolbar","controlPosition","Chart","_isMounted","loadingStatus","isFullyLoaded","onSuccess","id_1","setInterval","clearInterval","loader","errorElement","source","series","fields","find","field","record","values","buffer","destination","destinationIP","bytes","setPanelOptions","builder"],"mappings":"mEACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,IAIjBlC,EAAoBA,EAAoBmC,EAAI,G,gBClFrDhC,EAAOD,QAAUkC,G,cCAjBjC,EAAOD,QAAUmC,G,6BCEjBvB,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAGT,IAQgCiB,EAR5BC,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAItC,EAAI,EAAGA,EAAIsC,EAAMC,OAAQvC,IAAK,CAAE,IAAIwC,EAAaF,EAAMtC,GAAIwC,EAAW5B,WAAa4B,EAAW5B,aAAc,EAAO4B,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAMhC,OAAOC,eAAe0B,EAAQG,EAAWjB,IAAKiB,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYR,EAAiBO,EAAYf,UAAWgB,GAAiBC,GAAaT,EAAiBO,EAAaE,GAAqBF,GAA7gB,GAEfG,EAAS,EAAQ,GAEjBC,GAI4Bb,EAJKY,IAIgBZ,EAAId,WAAac,EAAM,CAAEc,QAASd,GAFnFe,EAAa,EAAQ,GAYzB,IAAIC,EAAS,SAAUC,GAUrB,SAASD,EAAOZ,IAhBlB,SAAyBc,EAAUT,GAAe,KAAMS,aAAoBT,GAAgB,MAAM,IAAIU,UAAU,qCAiB5GC,CAAgBC,KAAML,GAEtB,IAAIM,EAjBR,SAAoCC,EAAMtD,GAAQ,IAAKsD,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOvD,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsD,EAAPtD,EAiBlNwD,CAA2BJ,MAAOL,EAAOU,WAAalD,OAAOmD,eAAeX,IAAS/C,KAAKoD,KAAMjB,IAG5G,OADAkB,EAAMM,eAAiB,KAAON,EAAMO,YAAYC,UACzCR,EAoHT,OAtIF,SAAmBS,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIb,UAAU,kEAAoEa,GAAeD,EAASrC,UAAYlB,OAAOY,OAAO4C,GAAcA,EAAWtC,UAAW,CAAEmC,YAAa,CAAE9C,MAAOgD,EAAUrD,YAAY,EAAO8B,UAAU,EAAMD,cAAc,KAAeyB,IAAYxD,OAAOyD,eAAiBzD,OAAOyD,eAAeF,EAAUC,GAAcD,EAASL,UAAYM,GAG/dE,CAAUlB,EAAQC,GA0BlBhB,EAAae,EAAQ,CAAC,CACpB3B,IAAK,oBACLN,MAAO,WACL,IAAIoD,EAASd,KAAKjB,MACdgC,EAAUD,EAAOC,QACjBC,EAASF,EAAOE,OAChBC,EAAMH,EAAOG,IAGbjB,KAAKQ,YAAYU,cAAcD,GACjCD,IAIEhB,KAAKQ,YAAYW,eAAeF,GAClCF,IAOEf,KAAKQ,YAAYY,gBAAgBH,GACnCjB,KAAKQ,YAAYY,gBAAgBH,GAAKjB,KAAKO,gBAAkBP,KAAKjB,OAIpEiB,KAAKQ,YAAYY,gBAAgBH,GA9DvC,SAAyBtC,EAAKX,EAAKN,GAAiK,OAApJM,KAAOW,EAAOxB,OAAOC,eAAeuB,EAAKX,EAAK,CAAEN,MAAOA,EAAOL,YAAY,EAAM6B,cAAc,EAAMC,UAAU,IAAkBR,EAAIX,GAAON,EAAgBiB,EA8D7J0C,CAAgB,GAAIrB,KAAKO,eAAgBP,KAAKjB,OAEtFiB,KAAKsB,kBAEN,CACDtD,IAAK,uBACLN,MAAO,WACL,IAAIuD,EAAMjB,KAAKjB,MAAMkC,IAEjBM,EAAYvB,KAAKQ,YAAYY,gBAAgBH,GAI7CM,UACKA,EAAUvB,KAAKO,kBAGzB,CACDvC,IAAK,eACLN,MAAO,WACL,IAAI8D,EAASxB,KAETyB,EAAUzB,KAAKjB,MACf2C,EAAWD,EAAQC,SACnBT,EAAMQ,EAAQR,IACdU,EAAaF,EAAQE,WAErBC,EAASC,SAASC,cAAc,UAEpCJ,IAGIC,GACFxE,OAAO4E,KAAKJ,GAAYK,SAAQ,SAAUC,GACxC,OAAOL,EAAOM,aAAaD,EAAMN,EAAWM,OAIhDL,EAAOO,IAAMlB,EAGRW,EAAOQ,aAAa,WACvBR,EAAOS,MAAQ,GAGjB,IAAIC,EAAoC,SAA2CC,GACjF,IAAIhB,EAAYC,EAAOhB,YAAYY,gBAAgBH,GACnD9D,OAAO4E,KAAKR,GAAWS,SAAQ,SAAUhE,GACnCuE,EAAqBhB,EAAUvD,YAC1BwD,EAAOhB,YAAYY,gBAAgBH,GAAKO,EAAOjB,oBAI5DqB,EAAOY,OAAS,WACdhB,EAAOhB,YAAYU,cAAcD,IAAO,EACxCqB,GAAkC,SAAUG,GAE1C,OADAA,EAASzB,UACF,MAIXY,EAAOc,QAAU,WACflB,EAAOhB,YAAYW,eAAeF,IAAO,EACzCqB,GAAkC,SAAUG,GAE1C,OADAA,EAAS1B,WACF,MAIXc,SAASc,KAAKC,YAAYhB,KAE3B,CACD5D,IAAK,SACLN,MAAO,WACL,OAAO,SAIJiC,EApII,CAqIXH,EAAQC,QAAQoD,WAElBlD,EAAOmD,UAAY,CACjBnB,WAAYjC,EAAWqD,UAAU5E,OACjCuD,SAAUhC,EAAWqD,UAAUC,KAC/BjC,QAASrB,EAAWqD,UAAUC,KAAKC,WACnCjC,OAAQtB,EAAWqD,UAAUC,KAAKC,WAClChC,IAAKvB,EAAWqD,UAAUG,OAAOD,YAEnCtD,EAAOwD,aAAe,CACpBxB,WAAY,GACZD,SAAU,aACVX,QAAS,aACTC,OAAQ,cACVrB,EAAOyB,gBAAkB,GACzBzB,EAAOuB,cAAgB,GACvBvB,EAAOwB,eAAiB,GACxBxB,EAAOc,QAAU,EACjBlE,EAAQkD,QAAUE,EAClBnD,EAAOD,QAAUA,EAAiB,S,gBC/JhCC,EAAOD,QAAU,EAAQ,EAAR,I,6BCRnB,IAAI6G,EAAuB,EAAQ,GAEnC,SAASC,KACT,SAASC,KACTA,EAAuBC,kBAAoBF,EAE3C7G,EAAOD,QAAU,WACf,SAASiH,EAAKzE,EAAO0E,EAAUC,EAAeC,EAAUC,EAAcC,GACpE,GAAIA,IAAWT,EAAf,CAIA,IAAIU,EAAM,IAAIC,MACZ,mLAKF,MADAD,EAAI9G,KAAO,sBACL8G,GAGR,SAASE,IACP,OAAOR,EAFTA,EAAKP,WAAaO,EAMlB,IAAIS,EAAiB,CACnBC,MAAOV,EACPW,OAAQX,EACRY,KAAMZ,EACNR,KAAMQ,EACNa,OAAQb,EACRrF,OAAQqF,EACRN,OAAQM,EACRc,OAAQd,EAERe,IAAKf,EACLgB,QAASR,EACTS,QAASjB,EACTkB,YAAalB,EACbmB,WAAYX,EACZY,KAAMpB,EACNqB,SAAUb,EACVc,MAAOd,EACPe,UAAWf,EACXgB,MAAOhB,EACPiB,MAAOjB,EAEPkB,eAAgB5B,EAChBC,kBAAmBF,GAKrB,OAFAY,EAAelB,UAAYkB,EAEpBA,I,6BCpDTzH,EAAOD,QAFoB,gD,+ECUvB4I,EAAgB,SAASpI,EAAGqI,GAI5B,OAHAD,EAAgBhI,OAAOyD,gBAClB,CAAEP,UAAW,cAAgBgF,OAAS,SAAUtI,EAAGqI,GAAKrI,EAAEsD,UAAY+E,IACvE,SAAUrI,EAAGqI,GAAK,IAAK,IAAI7G,KAAK6G,EAAOA,EAAE9G,eAAeC,KAAIxB,EAAEwB,GAAK6G,EAAE7G,MACpDxB,EAAGqI,IAG5B,SAASE,EAAUvI,EAAGqI,GAElB,SAASG,IAAOvF,KAAKQ,YAAczD,EADnCoI,EAAcpI,EAAGqI,GAEjBrI,EAAEsB,UAAkB,OAAN+G,EAAajI,OAAOY,OAAOqH,IAAMG,EAAGlH,UAAY+G,EAAE/G,UAAW,IAAIkH,GAGnF,IAAIC,EAAW,WAQX,OAPAA,EAAWrI,OAAOsI,QAAU,SAAkB9H,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIwH,UAAU1G,OAAQvC,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIkH,UAAUjJ,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEKgI,MAAM3F,KAAM0F,YAGhC,SAASE,EAAUC,EAASC,EAAYC,EAAGC,GACvC,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAU1I,GAAS,IAAM2I,EAAKL,EAAUM,KAAK5I,IAAW,MAAO6I,GAAKJ,EAAOI,IACpF,SAASC,EAAS9I,GAAS,IAAM2I,EAAKL,EAAiB,MAAEtI,IAAW,MAAO6I,GAAKJ,EAAOI,IACvF,SAASF,EAAKI,GAAUA,EAAOC,KAAOR,EAAQO,EAAO/I,OAAS,IAAIqI,GAAE,SAAUG,GAAWA,EAAQO,EAAO/I,UAAWiJ,KAAKP,EAAWI,GACnIH,GAAML,EAAYA,EAAUL,MAAME,EAASC,GAAc,KAAKQ,WAItE,SAASM,EAAYf,EAASlD,GAC1B,IAAsGkE,EAAGC,EAAGnJ,EAAGoJ,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPvJ,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOwJ,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAET,KAAMe,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAX7J,SAA0BuJ,EAAEvJ,OAAO8J,UAAY,WAAa,OAAOtH,OAAU+G,EACvJ,SAASM,EAAKnJ,GAAK,OAAO,SAAUqJ,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAI/G,UAAU,mCAC3B,KAAOkH,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAMnJ,EAAY,EAAR6J,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOnJ,EAAImJ,EAAU,SAAMnJ,EAAEf,KAAKkK,GAAI,GAAKA,EAAER,SAAW3I,EAAIA,EAAEf,KAAKkK,EAAGU,EAAG,KAAKd,KAAM,OAAO/I,EAE3J,OADImJ,EAAI,EAAGnJ,IAAG6J,EAAK,CAAS,EAARA,EAAG,GAAQ7J,EAAED,QACzB8J,EAAG,IACP,KAAK,EAAG,KAAK,EAAG7J,EAAI6J,EAAI,MACxB,KAAK,EAAc,OAAXR,EAAEC,QAAgB,CAAEvJ,MAAO8J,EAAG,GAAId,MAAM,GAChD,KAAK,EAAGM,EAAEC,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKR,EAAEI,IAAIK,MAAOT,EAAEG,KAAKM,MAAO,SACxC,QACI,KAAM9J,EAAIqJ,EAAEG,MAAMxJ,EAAIA,EAAEqB,OAAS,GAAKrB,EAAEA,EAAEqB,OAAS,KAAkB,IAAVwI,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAER,EAAI,EAAG,SACjG,GAAc,IAAVQ,EAAG,MAAc7J,GAAM6J,EAAG,GAAK7J,EAAE,IAAM6J,EAAG,GAAK7J,EAAE,IAAM,CAAEqJ,EAAEC,MAAQO,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYR,EAAEC,MAAQtJ,EAAE,GAAI,CAAEqJ,EAAEC,MAAQtJ,EAAE,GAAIA,EAAI6J,EAAI,MAC7D,GAAI7J,GAAKqJ,EAAEC,MAAQtJ,EAAE,GAAI,CAAEqJ,EAAEC,MAAQtJ,EAAE,GAAIqJ,EAAEI,IAAIM,KAAKF,GAAK,MACvD7J,EAAE,IAAIqJ,EAAEI,IAAIK,MAChBT,EAAEG,KAAKM,MAAO,SAEtBD,EAAK7E,EAAK/F,KAAKiJ,EAASmB,GAC1B,MAAOT,GAAKiB,EAAK,CAAC,EAAGjB,GAAIO,EAAI,EAAK,QAAUD,EAAIlJ,EAAI,EACtD,GAAY,EAAR6J,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE9J,MAAO8J,EAAG,GAAKA,EAAG,QAAK,EAAQd,MAAM,GArB9BL,CAAK,CAACnI,EAAGqJ,MAyB7D,IAAII,EAAoB,CACpBC,SAAU,KACVC,eAAe,EACfC,QAAS,KACTC,QAAS,CACLC,OAAQ,MAEZC,KAAM,KACNC,KAAM,KACNC,QAAS,KACTC,SAAU,KACVC,YAAa,KACbC,cAAc,EACdC,aAAc,KACdC,gBAAiB,SAAUC,EAAcC,KACzCC,eAAgB,KAChBC,UAAW,GACXC,MAAO,GACPC,WAAY,KACZC,eAAgB,KAChBC,2BAA4B,CACxBC,QAAS,EACTC,IAAK,GAETC,UAAW,GACXC,mBAAoB,GACpBC,SAAU,KACVC,OAAQ,KACRC,aAAc,KACdC,UAAW,MAGX,EAAqB,SAAUC,GAE/B,SAASC,IACL,IAAIzJ,EAAmB,OAAXwJ,GAAmBA,EAAO9D,MAAM3F,KAAM0F,YAAc1F,KAYhE,OAXAC,EAAM0J,qCAAuC,SAAUC,GACnD,IAAIC,EAAK5J,EAAMlB,MAAO+K,EAAUD,EAAGE,aAAcC,EAAWH,EAAGI,cAAeC,EAAWL,EAAGM,cAAeC,EAAaP,EAAGO,WAAYpJ,EAAS6I,EAAG7I,OACnJ4I,EAAmBS,OAAOC,KAAKR,GAAW,UAAW,CACjDE,SAAUA,GAAY,CAAC,YAAa,YACpCE,SAAUA,GAAY,KACtBE,WAAYA,IAEhBR,EAAmBS,OAAOE,mBAAkB,WACxCvJ,EAAO4I,OAGR3J,EAeX,OA7BAqF,EAAUoE,EAAmBD,GAgB7BC,EAAkBrL,UAAUmM,sBAAwB,SAAUC,GAC1D,OAAOA,EAAUR,gBAAkBjK,KAAKjB,MAAMkL,eAElDP,EAAkBrL,UAAUiL,OAAS,WACjC,IAAIrJ,EAAQD,KACRe,EAAUf,KAAKjB,MAAMgC,QACzB,OAAQ,uBAAD,CAAe,IAAQ,CAAEE,IAAK,2CAA4CF,QAASA,EAASC,OAAQ,WACnG,IAAI0J,EAAmBC,OACnBD,EAAiBhC,QACjBzI,EAAM0J,qCAAqCe,EAAiBhC,YAIrEgB,EA9Ba,CA+BtB,aAEEkB,EAAW,EACXC,EAAmB,WAEnB,MAAO,qBADPD,GAAY,IAIZE,EAAuB,CACvB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIAC,EAA+B,SAAUC,EAAWjC,EAAgBkC,GAEpE,YADkB,IAAdA,IAAwBA,EAAY,IACjCrF,OAHCsF,OAGgB,OAAQ,GAAQ,WACpC,OAAOtE,EAAY5G,MAAM,SAAU6J,GAC/B,MAAO,CAAC,EAAG,IAAI5D,SAAQ,SAAUC,EAASC,GAClC,IAAI8C,EAAgBgC,EAAUhC,QAAU,WAAagC,EAAUhC,QAAU,YACrEkC,EAAoBF,EAAUG,MAAQ,OAASC,mBAAmBJ,EAAUG,OAAS,GACrFlC,EAAY+B,EAAU/B,IAAM,QAAU+B,EAAU/B,IAAM,GACtDoC,EAAcL,EAAUK,MAAQ,UAAYL,EAAUK,MAAQ,GAC9DC,EAAqBN,EAAUM,aAAe,iBAAmBN,EAAUM,aAAe,GAE1FC,EAAmBzC,EAAiB,aADnB,GAAKE,EAAUC,EAAMoC,EAAQH,EAAcI,GAEpD,IAAIP,EAAUS,cAAcC,MAAMF,GACxCG,MAAK,SAAUC,GACbA,EAASC,UACT1F,EAAO,oBAAsByF,EAASE,aAAe,IAAMF,EAASG,sBAGpE7F,EAAQ0F,EAASI,8BAQzC,EAAK,wBAAcrE,GAAoBsE,EAAW,EAAGA,SAAUC,EAAW,EAAGA,SAC7EC,EAAkB,SAAUtC,GAC5B,IAAIuC,EAAWvC,EAAGuC,SAAU1O,EAAQmM,EAAGnM,MACvC,OAAO,wBAAcuO,EAAU,CAAEvO,MAAOA,GAAS0O,IAEjDC,EAAkB,SAAUxC,GAC5B,IAAIP,EAASO,EAAGP,OAChB,OAAQ,uBAAD,CAAe4C,EAAU,MAAM,SAAUI,GAC5C,OAAOhD,EAAOgD,OAKlBC,EAA6B,SAAU9C,GAEvC,SAAS8C,IACL,IAAItM,EAAmB,OAAXwJ,GAAmBA,EAAO9D,MAAM3F,KAAM0F,YAAc1F,KAqLhE,OApLAC,EAAMuM,MAAQ,CACVC,cAAe,IAEnBxM,EAAMyM,qBAAuB,WACzB,IAAI7C,EAAK5J,EAAMlB,MAAO2J,EAASmB,EAAGnB,OAAQiE,EAAqB9C,EAAG8C,mBAClEjE,EAAO+C,cAAcmB,OAAOC,YAAYF,EAAoB,UAAU,WAClE,IACIG,EADQH,EAAmBI,WACTC,eAClBC,EAAYN,EAAmBX,eACnC,GAAyB,IAArBc,EAAU9N,QACW,OAArB8N,EAAU,GAAGI,KACC,OAAdD,EAFJ,CAKA,IAAIE,EAAcL,EAAU,GAAGM,OAC3BC,EAAWpN,EAAMqN,YAAYL,EAAWE,GACxClN,EAAMuM,MAAMC,cAAcc,SAASF,GACnCpN,EAAMuN,UAAS,SAAUhB,GAAS,OAAQhH,EAAS,GAAIgH,EAAO,CAAEC,cAAeD,EAAMC,cAAcgB,QAAO,SAAUC,GAAS,OAAOA,IAAUL,KAAaM,aAG3J1N,EAAMuN,UAAS,SAAUhB,GAAS,OAAQhH,EAAS,GAAIgH,EAAO,CAAEC,cAAeD,EAAMC,cAAcmB,OAAO,CAACP,cAIvHpN,EAAM4N,gBAAkB,SAAUZ,EAAWnE,GAEzC,IADA,IAAIJ,EAASzI,EAAMlB,MAAM2J,OAChBoF,EAAK,EAAGC,EAAejF,EAAYgF,EAAKC,EAAa/O,OAAQ8O,IAAM,CACxE,IAAIE,EAAYD,EAAaD,GAC7B,OAAQE,EAAUC,MACd,IAAK,eACGC,EAAe,IAAIxF,EAAO+C,cAAc0C,YAAYH,EAAUjG,UACrDqG,OAAOnB,EAAWe,EAAUZ,QACzC,MAEJ,IAAK,aACGc,EAAe,IAAIxF,EAAO+C,cAAc4C,UAAUL,EAAUjG,UACnDqG,OAAOnB,EAAWe,EAAUZ,QACzC,MAEJ,IAAK,cAGD,IAFA,IAAIc,EAAe,IAAIxF,EAAO+C,cAAc6C,YAAYN,EAAUjG,SAEzD8B,EAAK,EAAG0E,EADJP,EAAUQ,OACa3E,EAAK0E,EAASvP,OAAQ6K,IAAM,CAC5D,IAAI4E,EAAQF,EAAS1E,GACrBqE,EAAaQ,SAAS/I,MAAMuI,EAAcO,GAE9CP,EAAaE,OAAOnB,EAAWe,EAAUZ,QACzC,MAEJ,IAAK,cACGc,EAAe,IAAIxF,EAAO+C,cAAckD,WAAWX,EAAUjG,UACpDqG,OAAOnB,EAAWe,EAAUZ,QACzC,MAEJ,IAAK,gBACGc,EAAe,IAAIxF,EAAO+C,cAAcmD,aAAaZ,EAAUjG,UACtDqG,OAAOnB,EAAWe,EAAUZ,QACzC,MAEJ,IAAK,iBACGc,EAAe,IAAIxF,EAAO+C,cAAcoD,cAAcb,EAAUjG,UACvDqG,OAAOnB,EAAWe,EAAUZ,WAMzDnN,EAAMqN,YAAc,SAAUL,EAAWE,GACrC,OAAQF,EAAU6B,YAAY3B,IAC1BF,EAAU8B,eAAe5B,IAEjClN,EAAM+O,KAAO,SAAUnF,GACnB,IAAI5B,EAAO4B,EAAG5B,KAAMG,EAAWyB,EAAGzB,SAAUF,EAAO2B,EAAG3B,KAAMC,EAAU0B,EAAG1B,QAASJ,EAAU8B,EAAG9B,QAASF,EAAgBgC,EAAGhC,cAAeS,EAAeuB,EAAGvB,aAAc2G,EAAYpF,EAAGoF,UAAWnG,EAAae,EAAGf,WAAYC,EAAiBc,EAAGd,eAAgBC,EAA6Ba,EAAGb,2BACpS,OAAOpD,EAAU3F,OAAO,OAAQ,GAAQ,WACpC,IAAIiP,EAAIxG,EAAQiE,EAAoBM,EAAWkC,EAAWC,EAASC,EAASC,EAAa7S,EAAG4Q,EAAUkC,EAAqBC,EAAkBC,EAAoBC,EACjK,OAAO9I,EAAY5G,MAAM,SAAU2P,GAC/B,OAAQA,EAAG1I,OACP,KAAK,EAQD,OAPAiI,EAAKlP,KAAKjB,MAAO2J,EAASwG,EAAGxG,OAAQiE,EAAqBuC,EAAGvC,mBAC7DwC,EAAY,KACK,OAAb/G,IACAgH,EAAU1G,EAAO+C,cAAcmE,iBAAiBxH,EAASyH,KACzDR,EAAU3G,EAAO+C,cAAcmE,iBAAiBxH,EAAS0H,KACzDX,EAAYzG,EAAO+C,cAAcwD,GAAW5Q,UAAU0R,YAAYX,EAASC,IAEhE,OAATpH,EAAuB,CAAC,EAAG,IAE7BgF,EADA5H,MAAM2K,QAAQ/H,GACFS,EAAO+C,cAAcmE,iBAAiB3H,GAGtC,IAAIS,EAAO+C,cAAcwE,UAAUhI,GAE5C,CAAC,EAAG,IACf,KAAK,EACD,OAAe,OAATC,GAA6B,OAAZC,EAA0B,CAAC,EAAG,IACrD8E,EAAYvE,EAAO+C,cAAcmE,iBAAiB,CAACzH,GAASyF,OAAO1F,IAC5D,CAAC,EAAG,IACf,KAAK,EACD,OAAyB,OAAnBa,EAAiC,CAAC,EAAG,GACpC,CAAC,EAAGgC,EAA6BrC,EAAQK,EAAgBC,IACpE,KAAK,EAED,OADAiE,EAAa0C,EAAGzI,OACT,CAAC,EAAG,GACf,KAAK,EACD+F,EAAYvE,EAAO+C,cAAcmE,iBAAiB,IAClDD,EAAG1I,MAAQ,EACf,KAAK,EAED,IADAqI,EAAcrC,EAAUiD,qBACnBzT,EAAI,EAAGA,EAAI6S,EAAa7S,GAAK,EAC9B4Q,EAAWrN,KAAKsN,YAAYL,EAAWxQ,GACnCuD,KAAKwM,MAAMC,cAAcc,SAASF,KAClCkC,EAAsBtC,EAAU8B,eAAetS,GAC/C+S,EAAmBvC,EAAU6B,YAAYrS,GACzCgT,EAAqBxC,EAAUkD,cAAc1T,GAC7CwQ,EAAUmD,aAAa3T,GACvBwQ,EAAUoD,UAAU,CAChBpJ,MAAOsI,EACPe,GAAId,EACJvB,KAAMwB,KA2BlB,OAvBAC,EAAQ/C,EAAmBI,WACe,aAAtCJ,EAAmB4D,gBACnBb,GAASA,EAAMc,aAEnB7D,EAAmB8D,aAAaxB,GAChCtC,EAAmB+D,WAAW3I,GAC9B4E,EAAmBgE,aAAa1D,GAChCN,EAAmBqC,OACqB,OAApChP,KAAKjB,MAAM6R,sBACX5Q,KAAKjB,MAAM6R,qBAAqB5B,KAAK/B,GAEvB,OAAdkC,IACAxC,EAAmBgE,aAAaxB,GAChCxC,EAAmBqC,QAEJ,OAAflG,IACA9I,KAAK6N,gBAAgBZ,EAAWnE,GAChC6D,EAAmBgE,aAAa1D,GAChCN,EAAmBqC,SAEF,IAAjB1G,IAA2C,IAAlBT,GACzB7H,KAAK6Q,qBAAqB,CAAE9I,QAASA,IAElC,CAAC,WAK5B9H,EAAM4Q,qBAAuB,SAAUhH,GACnC,IAAI9B,EAAU8B,EAAG9B,QACb4E,EAAqB1M,EAAMlB,MAAM4N,mBACjCM,EAAYN,EAAmBX,eACnC,GAAkB,OAAdiB,EAAJ,CAEA,IAAIqC,EAAcrC,EAAUiD,qBAE5B,IAAyB,IADFjQ,EAAMuM,MAAMC,cAAczN,OAAS,EAC1D,CAEA,IAAIgJ,EAAS3C,MAAMyL,KAAK,CAAE9R,OAAQsQ,EAAc,IAAKyB,KAAI,SAAUC,EAAUvU,GACzE,IAAI4Q,EAAWpN,EAAMqN,YAAYL,EAAWxQ,EAAI,GAChD,OAAIwD,EAAMuM,MAAMC,cAAcc,SAASF,GAvKtC,eA0KkC,IAAnBtF,EAAQC,QACD,OAAnBD,EAAQC,OACDD,EAAQC,OAAOvL,GAGfqO,EAAqBrO,MAGpCkQ,EAAmB+D,WAAWlL,EAAS,GAAIuC,EAAS,CAAEC,OAAQA,KAC9D2E,EAAmBqC,UAEvB/O,EAAMgR,SAAW,WACYhR,EAAMlB,MAAM4N,mBAClBqC,QAEhB/O,EAwBX,OA/MAqF,EAAUiH,EAA2B9C,GAyLrC8C,EAA0BlO,UAAU6S,kBAAoB,WACpDlR,KAAKgP,KAAKhP,KAAKjB,OACf4L,OAAOwG,iBAAiB,SAAUnR,KAAKiR,WACnCjR,KAAKjB,MAAM8I,eAAiB7H,KAAKjB,MAAMuJ,eACvCtI,KAAK0M,wBAGbH,EAA0BlO,UAAU+S,qBAAuB,WACvD,IAAIvH,EAAK7J,KAAKjB,MAAO2J,EAASmB,EAAGnB,OAAQiE,EAAqB9C,EAAG8C,mBACjEhC,OAAO0G,oBAAoB,SAAUrR,KAAKiR,UAC1CvI,EAAO+C,cAAcmB,OAAO0E,mBAAmB3E,GACL,aAAtCA,EAAmB4D,gBACnB5D,EAAmBI,YACfJ,EAAmBI,WAAWyD,cAG1CjE,EAA0BlO,UAAUkT,mBAAqB,WACrDvR,KAAKgP,KAAKhP,KAAKjB,QAEnBwN,EAA0BlO,UAAUiL,OAAS,WACzC,OAAO,MAEJiD,EAhNqB,CAiN9B,aACE,EAAwB,SAAU9C,GAElC,SAAS+H,IACL,OAAkB,OAAX/H,GAAmBA,EAAO9D,MAAM3F,KAAM0F,YAAc1F,KAa/D,OAfAsF,EAAUkM,EAAsB/H,GAIhC+H,EAAqBnT,UAAU6S,kBAAoB,aACnDM,EAAqBnT,UAAU+S,qBAAuB,aACtDI,EAAqBnT,UAAUmM,sBAAwB,WACnD,OAAO,GAEXgH,EAAqBnT,UAAUiL,OAAS,WACpC,IAAIO,EAAK7J,KAAKjB,MAAO2J,EAASmB,EAAGnB,OAAQiE,EAAqB9C,EAAG8C,mBAAoBiE,EAAuB/G,EAAG+G,qBAC/G,OAAQ,uBAAD,CAAevE,EAAiB,CAAE/C,OAAQ,SAAUvK,GACnD,OAAQ,uBAAD,CAAewN,EAA2B/G,EAAS,GAAIzG,EAAO,CAAE2J,OAAQA,EAAQiE,mBAAoBA,EAAoBiE,qBAAsBA,SAG1JY,EAhBgB,CAiBzB,aAEE,EAAqB,SAAU/H,GAE/B,SAASgI,IACL,OAAkB,OAAXhI,GAAmBA,EAAO9D,MAAM3F,KAAM0F,YAAc1F,KA4C/D,OA9CAsF,EAAUmM,EAAmBhI,GAI7BgI,EAAkBpT,UAAUmM,sBAAwB,WAChD,OAAO,GAEXiH,EAAkBpT,UAAUqT,eAAiB,SAAU7H,GACnD,IAAI5J,EAAQD,KACRqI,EAAcwB,EAAGxB,YAAaK,EAASmB,EAAGnB,OAAQiE,EAAqB9C,EAAG8C,mBAC9E,GAAoB,OAAhBtE,EAAJ,CAGAK,EAAO+C,cAAcmB,OAAO0E,mBAAmB3E,GAgB/C,IAfA,IAAIgF,EAAU,SAAUC,GACpB,IAAIC,EAAYD,EAAQC,UAAWC,EAAWF,EAAQE,SACtDpJ,EAAO+C,cAAcmB,OAAOC,YAAYF,EAAoBkF,GAAW,WAEnE,IADA,IAAIE,EAAO,GACFjE,EAAK,EAAGA,EAAKpI,UAAU1G,OAAQ8O,IACpCiE,EAAKjE,GAAMpI,UAAUoI,GAEzBgE,EAAS,CACLrJ,aAAckE,EACd5N,MAAOkB,EAAMlB,MACb2J,OAAQA,EACRsJ,UAAWD,QAIdjE,EAAK,EAAGmE,EAAgB5J,EAAayF,EAAKmE,EAAcjT,OAAQ8O,IAAM,CAE3E6D,EADcM,EAAcnE,OAIpC2D,EAAkBpT,UAAUiL,OAAS,WACjC,IAAIrJ,EAAQD,KACR6J,EAAK7J,KAAKjB,MAAO2J,EAASmB,EAAGnB,OAAQiE,EAAqB9C,EAAG8C,mBACjE,OAAQ,uBAAD,CAAeN,EAAiB,CAAE/C,OAAQ,SAAU4I,GAMnD,OALAjS,EAAMyR,eAAe,CACjBrJ,YAAa6J,EAAiB7J,aAAe,KAC7CK,OAAQA,EACRiE,mBAAoBA,IAEjB,SAGZ8E,EA/Ca,CAgDtB,aAEEU,EAAiB,EACjB,EAAe,SAAU1I,GAEzB,SAAS2I,IACL,IAAInS,EAAmB,OAAXwJ,GAAmBA,EAAO9D,MAAM3F,KAAM0F,YAAc1F,KA0HhE,OAzHAC,EAAMuM,MAAQ,CACVG,mBAAoB,KACpBiE,qBAAsB,KACtByB,oBAAqB,KACrBC,kBAAmB,KACnBC,SAAS,GAEbtS,EAAM6H,QAAU,KAChB7H,EAAMuS,cAAgB,sBACtBvS,EAAMwS,YAAc,sBACpBxS,EAAMyS,WAAa,WACf,IACIC,EADA9I,EAAK5J,EAAMlB,MAAO+I,EAAU+B,EAAG/B,QAASF,EAAWiC,EAAGjC,SAoB1D,OAhBQ+K,EAFQ,OAAZ7K,GAAiC,OAAbF,EACE,OAAlB3H,EAAM6H,QACY+C,IAGA5K,EAAM6H,QAGX,OAAZA,GAAiC,OAAbF,EACPE,EAEA,OAAbF,GAAiC,OAAZE,EACRF,EAGAE,EAEtB7H,EAAM6H,QAAU6K,EACT1S,EAAM6H,SAEjB7H,EAAM2S,aAAe,SAAUtC,EAAIuC,GAS/B,OARAV,GAAkB,OAEA,IAAP7B,EACK,uBAAyBuC,EAAQ,IAAMV,EAGvC7B,GAIpBrQ,EAAM6S,YAAc,SAAUnG,EAAoBiE,GAC9C,IAAI/G,EAAK5J,EAAMlB,MAAO2J,EAASmB,EAAGnB,OAAQW,EAAWQ,EAAGR,SACpDgJ,EAAmC,OAAbhJ,EACpB,KACAA,EAAS0H,KAAI,SAAUgC,EAAStW,GAC9B,IAAIuW,EAAiBD,EAAQE,UAAWC,EAAcH,EAAQG,YAAaC,EAAiBJ,EAAQhL,QAASqL,EAAuBL,EAAQK,qBACxIH,EAAYhT,EAAM2S,aAAaI,EAAgBvW,GACnD,MAAO,CACH4W,YAAaN,EACbA,QAAS,IAAIrK,EAAO+C,cAAc6H,eAAe9N,EAAS,CAAE+N,YAAaN,EAAWC,YAAaA,EAAanL,QAASoL,GAAkBC,QAGrJ,GAA4B,OAAxBf,EACA,OAAO,KAEXzB,EAAqB3S,KAAKoU,EAAoBtB,KAAI,SAAUlH,GAExD,OADcA,EAAGkJ,WAEjBpG,GA0BJ,IAzBA,IAAIgF,EAAU,SAAU6B,GAoBpB,IAnBA,IAAIT,EAAUS,EAAaT,QACvBlJ,EAD8C2J,EAAaH,YAC1CI,cACjBC,EAAU,SAAU9B,GACpB,IAAIE,EAAWF,EAAQE,SAAUD,EAAYD,EAAQC,UACrDnJ,EAAO+C,cAAcmB,OAAO+G,eAAeZ,EAASlB,EAAWC,GAC/DpJ,EAAO+C,cAAcmB,OAAOC,YAAYkG,EAASlB,GAAW,WAExD,IADA,IAAIE,EAAO,GACFjE,EAAK,EAAGA,EAAKpI,UAAU1G,OAAQ8O,IACpCiE,EAAKjE,GAAMpI,UAAUoI,GAEzBgE,EAAS,CACLrJ,aAAckE,EACdiH,eAAgBb,EAChBhU,MAAOkB,EAAMlB,MACb2J,OAAQA,EACRsJ,UAAWD,QAIdjE,EAAK,EAAG+F,OAlB0C,IAAPhK,EAAgB,GAAKA,EAkBvBiE,EAAK+F,EAAgB7U,OAAQ8O,IAAM,CAEjF4F,EADcG,EAAgB/F,MAI7BA,EAAK,EAAGgG,EAAwBzB,EAAqBvE,EAAKgG,EAAsB9U,OAAQ8O,IAAM,CAEnG6D,EADmBmC,EAAsBhG,IAG7C,OAAOuE,GAEXpS,EAAM8T,YAAc,WAChB,IAAIlK,EAAK5J,EAAMlB,MAAOiV,EAAQnK,EAAGmK,MAAOC,EAASpK,EAAGoK,OAAQlM,EAAU8B,EAAG9B,QAASc,EAAQgB,EAAGhB,MAAOD,EAAYiB,EAAGjB,UAAWO,EAAYU,EAAGV,UAAWT,EAASmB,EAAGnB,OAChKwL,EAAW1O,EAAS,CAAEyO,OAAQA,GAAWlM,GAAWA,EAAQkM,OAASD,MAAOA,GAAUjM,GAAWA,EAAQiM,OAAUnL,GACvH,OAAQ,uBAAD,CAAe,MAAOrD,EAAS,CAAE8K,GAAIrQ,EAAMyS,aAAc7J,MAAOqL,EAAUtL,UAAWA,GAAaO,GAAYlJ,EAAMuM,MAAM+F,SAA8C,OAAnCtS,EAAMuM,MAAMG,mBAA+B,uBAAD,CAAe,WAAU,KAC3M,wBAAc,EAAsB,CAAEA,mBAAoB1M,EAAMuM,MAAMG,mBAAoBjE,OAAQA,EAAQkI,qBAAsB3Q,EAAMuM,MAAMoE,uBAC5I,wBAAc,EAAmB,CAAEjE,mBAAoB1M,EAAMuM,MAAMG,mBAAoBjE,OAAQA,KAAc,OAErHzI,EAAMkU,cAAgB,SAAU1G,GAK5B,YAJe,IAAXA,IAAqBA,EAAS,SAAU5D,GAC1BA,EAAGkJ,QAAuBlJ,EAAGwJ,YAC3C,OAAO,IAEJpT,EAAMuM,MAAM+F,SAA+C,OAApCtS,EAAMuM,MAAM6F,oBAAgC,uBAAD,CAAe,WAAU,KAAMpS,EAAMuM,MAAM6F,oBAC/G5E,QAAO,SAAU5D,GAClB,IAAIwJ,EAAcxJ,EAAGwJ,YAAaN,EAAUlJ,EAAGkJ,QAC/C,OAAOtF,EAAO,CAAEsF,QAASA,EAASM,YAAaA,OAE9CtC,KAAI,SAAUlH,GACf,IAAIkJ,EAAUlJ,EAAGkJ,QAAuBlJ,EAAGwJ,YAC3C,OAAQ,uBAAD,CAAe,MAAO,CAAErV,IAAK+U,EAAQqB,iBAAkB9D,GAAIyC,EAAQqB,uBACvE,MAEXnU,EAAMoU,cAAgB,WAClB,OAAiC,OAA7BpU,EAAMlB,MAAMwK,aACL,KACJ,wBAAc,MAAO,CAAE+K,IAAKrU,EAAMwS,eAEtCxS,EA8EX,OA1MAqF,EAAU8M,EAAa3I,GA8HvB2I,EAAY/T,UAAU6S,kBAAoB,WACtC,IAAIrH,EAAK7J,KAAKjB,MAAOgJ,EAAU8B,EAAG9B,QAASW,EAASmB,EAAGnB,OAAQuG,EAAYpF,EAAGoF,UAAW7F,EAAqBS,EAAGT,mBAAoBG,EAAeM,EAAGN,aAAcZ,EAAiBkB,EAAGlB,eAAgBH,EAAkBqB,EAAGrB,gBAC1N+L,EAAc/O,EAAS,CAAEyJ,UAAWA,EACpClH,QAASA,EAASwL,YAAavT,KAAK0S,cAAgBtJ,GACpDuD,EAAqB,IAAIjE,EAAO+C,cAAc+I,aAAaD,GAC/D5H,EAAmB+D,WAAW3I,GAC9BS,EAAgBmE,EAAoBjE,GACpC,IAAIkI,EAAuB,IAAIlI,EAAO+C,cAAcgJ,UAAUzU,KAAKwS,eAC/DH,EAAsBrS,KAAK8S,YAAYnG,EAAoBiE,GAC1C,OAAjBrH,GACAb,EAAO+C,cAAciJ,YAAY1U,KAAKyS,YAAYkC,QAASpL,GAE/D,IAAI+I,EAAoB,KACD,OAAnB3J,GAEAA,EAAe,CACXiM,YAFJtC,EAAoB,IAAI5J,EAAO+C,cAAcoJ,YAGzCpM,aAAckE,EACdjE,OAAQA,IAGhB1I,KAAKwN,SAAS,CACV8E,kBAAmBA,EACnBD,oBAAqBA,EACrBzB,qBAAsBA,EACtBjE,mBAAoBA,EACpB4F,SAAS,KAGjBH,EAAY/T,UAAUkT,mBAAqB,WACvC,GAAsC,OAAlCvR,KAAKwM,MAAMG,oBAEyB,OAApC3M,KAAKwM,MAAMoE,sBAEwB,OAAnC5Q,KAAKwM,MAAM6F,oBAGf,IADA,IAAIhJ,EAAWrJ,KAAKjB,MAAMsK,SACjB5M,EAAI,EAAGA,EAAI4M,EAASrK,OAAQvC,GAAK,EAAG,CACzC,IAAIoN,EAAKR,EAAS5M,GAAIyW,EAAcrJ,EAAGqJ,YAAanL,EAAU8B,EAAG9B,QAASqL,EAAuBvJ,EAAGuJ,qBAChGA,GAAwB,UAAWA,GACnCpT,KAAKwM,MAAM6F,oBAAoB5V,GAAGsW,QAAQvF,SAAS4F,EAA4B,OAEnFpT,KAAKwM,MAAM6F,oBAAoB5V,GAAGsW,QAAQrC,WAAW3I,GACrD/H,KAAKwM,MAAM6F,oBAAoB5V,GAAGsW,QAAQ+B,eAAe5B,KAGjEd,EAAY/T,UAAUmM,sBAAwB,SAAUC,EAAWsK,GAC/D,OAAQ/U,KAAKwM,MAAM+F,UAAYwC,EAAUxC,SACrC9H,EAAUpB,WAAarJ,KAAKjB,MAAMsK,UAE1C+I,EAAY/T,UAAUiL,OAAS,WAC3B,IAAIO,EAAK7J,KAAKjB,MAAOiV,EAAQnK,EAAGmK,MAAOC,EAASpK,EAAGoK,OAAQlM,EAAU8B,EAAG9B,QAASc,EAAQgB,EAAGhB,MACxFqL,EAAW1O,EAAS,CAAEyO,OAAQA,GAAWlM,GAAWA,EAAQkM,OAASD,MAAOA,GAAUjM,GAAWA,EAAQiM,OAAUnL,GACvH,OAA0B,OAAtB7I,KAAKjB,MAAMuK,OACH,uBAAD,CAAe,MAAO,CAAEgL,IAAKtU,KAAKwS,cAAe3J,MAAOqL,GAC3D,wBAAc,MAAO,CAAEI,IAAKtU,KAAKyS,YAAanC,GAAI,YAClDtQ,KAAKjB,MAAMuK,OAAO,CACdyK,YAAa/T,KAAK+T,YAClBI,cAAenU,KAAKmU,cACpBa,cAAehV,KAAKqU,iBAIpB,uBAAD,CAAe,MAAO,CAAEC,IAAKtU,KAAKwS,cAAe3J,MAAOqL,GAC3DlU,KAAKmU,eAAc,SAAUtK,GAEzB,MAAuC,WADrBA,EAAGwJ,YACF4B,mBAEvBjV,KAAK+T,cACL/T,KAAKmU,eAAc,SAAUtK,GAEzB,MAAuC,WADrBA,EAAGwJ,YACF4B,mBAEvBjV,KAAKqU,kBAGVjC,EA3MO,CA4MhB,aAqEa,EAnEF,SAAU3I,GAEnB,SAASyL,IACL,IAAIjV,EAAmB,OAAXwJ,GAAmBA,EAAO9D,MAAM3F,KAAM0F,YAAc1F,KAoChE,OAnCAC,EAAMkV,YAAa,EACnBlV,EAAMuM,MAAQ,CACV4I,cAAe,UACf1M,OAAQ,MAEZzI,EAAMe,OAAS,SAAU0H,GACrB,GAAIzI,EAAMoV,cAAc3M,GACpBzI,EAAMqV,UAAU5M,QAGhB,IAAI6M,EAAOC,aAAY,WACnB,IAAI9M,EAASiC,OAAOjC,OAChBzI,EAAMkV,WACFzM,GAAUzI,EAAMoV,cAAc3M,KAC9B+M,cAAcF,GACdtV,EAAMqV,UAAU5M,IAIpB+M,cAAcF,KAEnB,MAGXtV,EAAMqV,UAAY,SAAU5M,GACxBzI,EAAMuN,SAAS,CACX4H,cAAe,QACf1M,OAAQA,KAGhBzI,EAAMc,QAAU,WACZd,EAAMuN,SAAS,CACX4H,cAAe,aAGhBnV,EAyBX,OA/DAqF,EAAU4P,EAAOzL,GAwCjByL,EAAM7W,UAAUiL,OAAS,WACrB,IAAIO,EAAK7J,KAAKjB,MAAOoL,EAAgBN,EAAGM,cAAeF,EAAgBJ,EAAGI,cAAeF,EAAeF,EAAGE,aAAcK,EAAaP,EAAGO,WAAYsL,EAAS7L,EAAG6L,OAAQC,EAAe9L,EAAG8L,aAC3L,OAAQ,uBAAD,CAAexJ,EAAiB,CAAEzO,MAAOsC,KAAKjB,OACpB,UAA7BiB,KAAKwM,MAAM4I,eAAmD,OAAtBpV,KAAKwM,MAAM9D,OAAmB,uBAAD,CAAe,EAAalD,EAAS,GAAIxF,KAAKjB,MAAO,CAAE2J,OAAQ1I,KAAKwM,MAAM9D,UAA2C,YAA7B1I,KAAKwM,MAAM4I,eAA+BO,EAAe,EAAiB,EACvO,wBAAc,EAAmBnQ,EAAS,GAAI,CAAE2E,cAAeA,EAAeF,cAAeA,EAAeF,aAAcA,EAAcK,WAAYA,GAAc,CAAEpJ,OAAQhB,KAAKgB,OAAQD,QAASf,KAAKe,aAE/MmU,EAAM7W,UAAU6S,kBAAoB,WAChClR,KAAKmV,YAAa,GAEtBD,EAAM7W,UAAU+S,qBAAuB,WACnCpR,KAAKmV,YAAa,GAEtBD,EAAM7W,UAAUgX,cAAgB,SAAU3M,GACtC,IAAImB,EAAK7J,KAAKjB,MAAOsK,EAAWQ,EAAGR,SAAUE,EAAeM,EAAGN,aAAcZ,EAAiBkB,EAAGlB,eACjG,OAAQD,GACJA,EAAO+C,eACP/C,EAAO+C,cAAc+I,cACrB9L,EAAO+C,cAAcgJ,aACnBpL,GAAYX,EAAO+C,cAAc+I,iBACjC7L,GAAkBD,EAAO+C,cAAcoJ,gBACvCtL,GAAgBb,EAAO+C,cAAciJ,cAE/CQ,EAAM/R,aAAewE,EACduN,EAhEC,CAiEV,aC7vBF,uCAIO,IAAM,EAAS,IAAI,eCGkB,SAAC,GAAS,U,IAAEjN,EAAI,OACtDxB,GAD6D,QAAQ,SAC5D,CACX,CAAC,OAAQ,KAAM,SACf,CAAC,aAAc,kBAAmB,MAEhCmP,EAAS3N,EAAK4N,OACf9E,KAAI,SAAC8E,GAAW,OAAAA,EAAOC,OAAOC,MAAK,SAACC,GAAU,wBAAAA,EAAMhZ,WACpD+T,KAAI,SAACiF,GACJ,IAAIC,EAASD,aAAK,EAALA,EAAOE,OACpB,OAAOD,aAAM,EAANA,EAAQE,UACd,GACL,QAAejL,IAAX0K,EAoBF,IAnBA,IAAIQ,EAAcnO,EAAK4N,OACpB9E,KAAI,SAAC8E,GAAW,OAAAA,EAAOC,OAAOC,MAAK,SAACC,GAAU,6BAAAA,EAAMhZ,WACpD+T,KAAI,SAACiF,GACJ,IAAIC,EAASD,aAAK,EAALA,EAAOE,OACpB,OAAOD,aAAM,EAANA,EAAQE,UACd,GACDE,EAAgBpO,EAAK4N,OACtB9E,KAAI,SAAC8E,GAAW,OAAAA,EAAOC,OAAOC,MAAK,SAACC,GAAU,wBAAAA,EAAMhZ,WACpD+T,KAAI,SAACiF,GACJ,IAAIC,EAASD,aAAK,EAALA,EAAOE,OACpB,OAAOD,aAAM,EAANA,EAAQE,UACd,GACDG,EAAQrO,EAAK4N,OACd9E,KAAI,SAAC8E,GAAW,OAAAA,EAAOC,OAAOC,MAAK,SAACC,GAAU,gBAAAA,EAAMhZ,WACpD+T,KAAI,SAACiF,GACJ,IAAIC,EAASD,aAAK,EAALA,EAAOE,OACpB,OAAOD,aAAM,EAANA,EAAQE,UACd,GACDjY,EAAI0X,EAAO5W,OACNvC,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAC1B,IAAIwZ,EAAS,GACbA,EAAOvO,KAAKkO,EAAOnZ,IACI,KAAnB2Z,EAAY3Z,GACdwZ,EAAOvO,KAAK2O,EAAc5Z,IAE1BwZ,EAAOvO,KAAK0O,EAAY3Z,IAE1BwZ,EAAOvO,KAAK4O,EAAM7Z,IAClBgK,EAAOiB,KAAKuO,GAGhB,OACE,6BACE,kBAAC,EAAK,CAACjC,MAAO,IAAKC,OAAQ,QAAShF,UAAU,SAASyG,OAAQ,8CAA0BzN,KAAMxB,QDhDnC8P,iBAAgB,SAACC,GAAY,OAAAA","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_React$Component) {\n  _inherits(Script, _React$Component);\n\n  // A dictionary mapping script URL to a boolean value indicating if the script\n  // has failed to load.\n\n\n  // A dictionary mapping script URLs to a dictionary mapping\n  // component key to component for all components that are waiting\n  // for the script to load.\n  function Script(props) {\n    _classCallCheck(this, Script);\n\n    var _this = _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).call(this, props));\n\n    _this.scriptLoaderId = 'id' + _this.constructor.idCount++; // eslint-disable-line space-unary-ops, no-plusplus\n    return _this;\n  }\n\n  // A counter used to generate a unique id for each component that uses\n  // ScriptLoaderMixin.\n\n\n  // A dictionary mapping script URL to a boolean value indicating if the script\n  // has already been loaded.\n\n\n  _createClass(Script, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          onError = _props.onError,\n          onLoad = _props.onLoad,\n          url = _props.url;\n\n\n      if (this.constructor.loadedScripts[url]) {\n        onLoad();\n        return;\n      }\n\n      if (this.constructor.erroredScripts[url]) {\n        onError();\n        return;\n      }\n\n      // If the script is loading, add the component to the script's observers\n      // and return. Otherwise, initialize the script's observers with the component\n      // and start loading the script.\n      if (this.constructor.scriptObservers[url]) {\n        this.constructor.scriptObservers[url][this.scriptLoaderId] = this.props;\n        return;\n      }\n\n      this.constructor.scriptObservers[url] = _defineProperty({}, this.scriptLoaderId, this.props);\n\n      this.createScript();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var url = this.props.url;\n\n      var observers = this.constructor.scriptObservers[url];\n\n      // If the component is waiting for the script to load, remove the\n      // component from the script's observers before unmounting the component.\n      if (observers) {\n        delete observers[this.scriptLoaderId];\n      }\n    }\n  }, {\n    key: 'createScript',\n    value: function createScript() {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          onCreate = _props2.onCreate,\n          url = _props2.url,\n          attributes = _props2.attributes;\n\n      var script = document.createElement('script');\n\n      onCreate();\n\n      // add 'data-' or non standard attributes to the script tag\n      if (attributes) {\n        Object.keys(attributes).forEach(function (prop) {\n          return script.setAttribute(prop, attributes[prop]);\n        });\n      }\n\n      script.src = url;\n\n      // default async to true if not set with custom attributes\n      if (!script.hasAttribute('async')) {\n        script.async = 1;\n      }\n\n      var callObserverFuncAndRemoveObserver = function callObserverFuncAndRemoveObserver(shouldRemoveObserver) {\n        var observers = _this2.constructor.scriptObservers[url];\n        Object.keys(observers).forEach(function (key) {\n          if (shouldRemoveObserver(observers[key])) {\n            delete _this2.constructor.scriptObservers[url][_this2.scriptLoaderId];\n          }\n        });\n      };\n      script.onload = function () {\n        _this2.constructor.loadedScripts[url] = true;\n        callObserverFuncAndRemoveObserver(function (observer) {\n          observer.onLoad();\n          return true;\n        });\n      };\n\n      script.onerror = function () {\n        _this2.constructor.erroredScripts[url] = true;\n        callObserverFuncAndRemoveObserver(function (observer) {\n          observer.onError();\n          return true;\n        });\n      };\n\n      document.body.appendChild(script);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Script;\n}(_react2.default.Component);\n\nScript.propTypes = {\n  attributes: _propTypes.PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  onCreate: _propTypes.PropTypes.func,\n  onError: _propTypes.PropTypes.func.isRequired,\n  onLoad: _propTypes.PropTypes.func.isRequired,\n  url: _propTypes.PropTypes.string.isRequired\n};\nScript.defaultProps = {\n  attributes: {},\n  onCreate: function onCreate() {},\n  onError: function onError() {},\n  onLoad: function onLoad() {} };\nScript.scriptObservers = {};\nScript.loadedScripts = {};\nScript.erroredScripts = {};\nScript.idCount = 0;\nexports.default = Script;\nmodule.exports = exports['default'];","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import { createElement, Component, createRef, Fragment, createContext } from 'react';\nimport Script from 'react-load-script';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar chartDefaultProps = {\r\n    graph_id: null,\r\n    legend_toggle: false,\r\n    graphID: null,\r\n    options: {\r\n        colors: null\r\n    },\r\n    data: null,\r\n    rows: null,\r\n    columns: null,\r\n    diffdata: null,\r\n    chartEvents: null,\r\n    legendToggle: false,\r\n    chartActions: null,\r\n    getChartWrapper: function (chartWrapper, google) { },\r\n    getChartEditor: null,\r\n    className: \"\",\r\n    style: {},\r\n    formatters: null,\r\n    spreadSheetUrl: null,\r\n    spreadSheetQueryParameters: {\r\n        headers: 1,\r\n        gid: 1\r\n    },\r\n    rootProps: {},\r\n    chartWrapperParams: {},\r\n    controls: null,\r\n    render: null,\r\n    toolbarItems: null,\r\n    toolbarID: null\r\n};\n\nvar GoogleChartLoader = (function (_super) {\r\n    __extends(GoogleChartLoader, _super);\r\n    function GoogleChartLoader() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.handleGoogleChartsLoaderScriptLoaded = function (windowGoogleCharts) {\r\n            var _a = _this.props, version = _a.chartVersion, packages = _a.chartPackages, language = _a.chartLanguage, mapsApiKey = _a.mapsApiKey, onLoad = _a.onLoad;\r\n            windowGoogleCharts.charts.load(version || \"current\", {\r\n                packages: packages || [\"corechart\", \"controls\"],\r\n                language: language || \"en\",\r\n                mapsApiKey: mapsApiKey\r\n            });\r\n            windowGoogleCharts.charts.setOnLoadCallback(function () {\r\n                onLoad(windowGoogleCharts);\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChartLoader.prototype.shouldComponentUpdate = function (nextProps) {\r\n        return nextProps.chartPackages === this.props.chartPackages;\r\n    };\r\n    GoogleChartLoader.prototype.render = function () {\r\n        var _this = this;\r\n        var onError = this.props.onError;\r\n        return (createElement(Script, { url: \"https://www.gstatic.com/charts/loader.js\", onError: onError, onLoad: function () {\r\n                var windowWithGoogle = window;\r\n                if (windowWithGoogle.google) {\r\n                    _this.handleGoogleChartsLoaderScriptLoaded(windowWithGoogle.google);\r\n                }\r\n            } }));\r\n    };\r\n    return GoogleChartLoader;\r\n}(Component));\n\nvar uniqueID = 0;\r\nvar generateUniqueID = function () {\r\n    uniqueID += 1;\r\n    return \"reactgooglegraph-\" + uniqueID;\r\n};\n\nvar DEFAULT_CHART_COLORS = [\r\n    \"#3366CC\",\r\n    \"#DC3912\",\r\n    \"#FF9900\",\r\n    \"#109618\",\r\n    \"#990099\",\r\n    \"#3B3EAC\",\r\n    \"#0099C6\",\r\n    \"#DD4477\",\r\n    \"#66AA00\",\r\n    \"#B82E2E\",\r\n    \"#316395\",\r\n    \"#994499\",\r\n    \"#22AA99\",\r\n    \"#AAAA11\",\r\n    \"#6633CC\",\r\n    \"#E67300\",\r\n    \"#8B0707\",\r\n    \"#329262\",\r\n    \"#5574A6\",\r\n    \"#3B3EAC\"\r\n];\n\nvar _this = undefined;\r\nvar loadDataTableFromSpreadSheet = function (googleViz, spreadSheetUrl, urlParams) {\r\n    if (urlParams === void 0) { urlParams = {}; }\r\n    return __awaiter(_this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2, new Promise(function (resolve, reject) {\r\n                    var headers = \"\" + (urlParams.headers ? \"headers=\" + urlParams.headers : \"headers=0\");\r\n                    var queryString = \"\" + (urlParams.query ? \"&tq=\" + encodeURIComponent(urlParams.query) : \"\");\r\n                    var gid = \"\" + (urlParams.gid ? \"&gid=\" + urlParams.gid : \"\");\r\n                    var sheet = \"\" + (urlParams.sheet ? \"&sheet=\" + urlParams.sheet : \"\");\r\n                    var access_token = \"\" + (urlParams.access_token ? \"&access_token=\" + urlParams.access_token : \"\");\r\n                    var urlQueryString = \"\" + headers + gid + sheet + queryString + access_token;\r\n                    var urlToSpreadSheet = spreadSheetUrl + \"/gviz/tq?\" + urlQueryString;\r\n                    var query = new googleViz.visualization.Query(urlToSpreadSheet);\r\n                    query.send(function (response) {\r\n                        if (response.isError()) {\r\n                            reject(\"Error in query:  \" + response.getMessage() + \" \" + response.getDetailedMessage());\r\n                        }\r\n                        else {\r\n                            resolve(response.getDataTable());\r\n                        }\r\n                    });\r\n                })];\r\n        });\r\n    });\r\n};\n\nvar _a = createContext(chartDefaultProps), Provider = _a.Provider, Consumer = _a.Consumer;\r\nvar ContextProvider = function (_a) {\r\n    var children = _a.children, value = _a.value;\r\n    return createElement(Provider, { value: value }, children);\r\n};\r\nvar ContextConsumer = function (_a) {\r\n    var render = _a.render;\r\n    return (createElement(Consumer, null, function (context) {\r\n        return render(context);\r\n    }));\r\n};\n\nvar GRAY_COLOR = \"#CCCCCC\";\r\nvar GoogleChartDataTableInner = (function (_super) {\r\n    __extends(GoogleChartDataTableInner, _super);\r\n    function GoogleChartDataTableInner() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            hiddenColumns: []\r\n        };\r\n        _this.listenToLegendToggle = function () {\r\n            var _a = _this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n            google.visualization.events.addListener(googleChartWrapper, \"select\", function () {\r\n                var chart = googleChartWrapper.getChart();\r\n                var selection = chart.getSelection();\r\n                var dataTable = googleChartWrapper.getDataTable();\r\n                if (selection.length === 0 ||\r\n                    selection[0].row !== null ||\r\n                    dataTable === null) {\r\n                    return;\r\n                }\r\n                var columnIndex = selection[0].column;\r\n                var columnID = _this.getColumnID(dataTable, columnIndex);\r\n                if (_this.state.hiddenColumns.includes(columnID)) {\r\n                    _this.setState(function (state) { return (__assign({}, state, { hiddenColumns: state.hiddenColumns.filter(function (colID) { return colID !== columnID; }).slice() })); });\r\n                }\r\n                else {\r\n                    _this.setState(function (state) { return (__assign({}, state, { hiddenColumns: state.hiddenColumns.concat([columnID]) })); });\r\n                }\r\n            });\r\n        };\r\n        _this.applyFormatters = function (dataTable, formatters) {\r\n            var google = _this.props.google;\r\n            for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\r\n                var formatter = formatters_1[_i];\r\n                switch (formatter.type) {\r\n                    case \"ArrowFormat\": {\r\n                        var vizFormatter = new google.visualization.ArrowFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"BarFormat\": {\r\n                        var vizFormatter = new google.visualization.BarFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"ColorFormat\": {\r\n                        var vizFormatter = new google.visualization.ColorFormat(formatter.options);\r\n                        var ranges = formatter.ranges;\r\n                        for (var _a = 0, ranges_1 = ranges; _a < ranges_1.length; _a++) {\r\n                            var range = ranges_1[_a];\r\n                            vizFormatter.addRange.apply(vizFormatter, range);\r\n                        }\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"DateFormat\": {\r\n                        var vizFormatter = new google.visualization.DateFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"NumberFormat\": {\r\n                        var vizFormatter = new google.visualization.NumberFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"PatternFormat\": {\r\n                        var vizFormatter = new google.visualization.PatternFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        _this.getColumnID = function (dataTable, columnIndex) {\r\n            return (dataTable.getColumnId(columnIndex) ||\r\n                dataTable.getColumnLabel(columnIndex));\r\n        };\r\n        _this.draw = function (_a) {\r\n            var data = _a.data, diffdata = _a.diffdata, rows = _a.rows, columns = _a.columns, options = _a.options, legend_toggle = _a.legend_toggle, legendToggle = _a.legendToggle, chartType = _a.chartType, formatters = _a.formatters, spreadSheetUrl = _a.spreadSheetUrl, spreadSheetQueryParameters = _a.spreadSheetQueryParameters;\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var _b, google, googleChartWrapper, dataTable, chartDiff, oldData, newData, columnCount, i, columnID, previousColumnLabel, previousColumnID, previousColumnType, chart;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            _b = this.props, google = _b.google, googleChartWrapper = _b.googleChartWrapper;\r\n                            chartDiff = null;\r\n                            if (diffdata !== null) {\r\n                                oldData = google.visualization.arrayToDataTable(diffdata.old);\r\n                                newData = google.visualization.arrayToDataTable(diffdata.new);\r\n                                chartDiff = google.visualization[chartType].prototype.computeDiff(oldData, newData);\r\n                            }\r\n                            if (!(data !== null)) return [3, 1];\r\n                            if (Array.isArray(data)) {\r\n                                dataTable = google.visualization.arrayToDataTable(data);\r\n                            }\r\n                            else {\r\n                                dataTable = new google.visualization.DataTable(data);\r\n                            }\r\n                            return [3, 5];\r\n                        case 1:\r\n                            if (!(rows !== null && columns !== null)) return [3, 2];\r\n                            dataTable = google.visualization.arrayToDataTable([columns].concat(rows));\r\n                            return [3, 5];\r\n                        case 2:\r\n                            if (!(spreadSheetUrl !== null)) return [3, 4];\r\n                            return [4, loadDataTableFromSpreadSheet(google, spreadSheetUrl, spreadSheetQueryParameters)];\r\n                        case 3:\r\n                            dataTable = (_c.sent());\r\n                            return [3, 5];\r\n                        case 4:\r\n                            dataTable = google.visualization.arrayToDataTable([]);\r\n                            _c.label = 5;\r\n                        case 5:\r\n                            columnCount = dataTable.getNumberOfColumns();\r\n                            for (i = 0; i < columnCount; i += 1) {\r\n                                columnID = this.getColumnID(dataTable, i);\r\n                                if (this.state.hiddenColumns.includes(columnID)) {\r\n                                    previousColumnLabel = dataTable.getColumnLabel(i);\r\n                                    previousColumnID = dataTable.getColumnId(i);\r\n                                    previousColumnType = dataTable.getColumnType(i);\r\n                                    dataTable.removeColumn(i);\r\n                                    dataTable.addColumn({\r\n                                        label: previousColumnLabel,\r\n                                        id: previousColumnID,\r\n                                        type: previousColumnType\r\n                                    });\r\n                                }\r\n                            }\r\n                            chart = googleChartWrapper.getChart();\r\n                            if (googleChartWrapper.getChartType() === \"Timeline\") {\r\n                                chart && chart.clearChart();\r\n                            }\r\n                            googleChartWrapper.setChartType(chartType);\r\n                            googleChartWrapper.setOptions(options);\r\n                            googleChartWrapper.setDataTable(dataTable);\r\n                            googleChartWrapper.draw();\r\n                            if (this.props.googleChartDashboard !== null) {\r\n                                this.props.googleChartDashboard.draw(dataTable);\r\n                            }\r\n                            if (chartDiff !== null) {\r\n                                googleChartWrapper.setDataTable(chartDiff);\r\n                                googleChartWrapper.draw();\r\n                            }\r\n                            if (formatters !== null) {\r\n                                this.applyFormatters(dataTable, formatters);\r\n                                googleChartWrapper.setDataTable(dataTable);\r\n                                googleChartWrapper.draw();\r\n                            }\r\n                            if (legendToggle === true || legend_toggle === true) {\r\n                                this.grayOutHiddenColumns({ options: options });\r\n                            }\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        _this.grayOutHiddenColumns = function (_a) {\r\n            var options = _a.options;\r\n            var googleChartWrapper = _this.props.googleChartWrapper;\r\n            var dataTable = googleChartWrapper.getDataTable();\r\n            if (dataTable === null)\r\n                return;\r\n            var columnCount = dataTable.getNumberOfColumns();\r\n            var hasAHiddenColumn = _this.state.hiddenColumns.length > 0;\r\n            if (hasAHiddenColumn === false)\r\n                return;\r\n            var colors = Array.from({ length: columnCount - 1 }).map(function (dontcare, i) {\r\n                var columnID = _this.getColumnID(dataTable, i + 1);\r\n                if (_this.state.hiddenColumns.includes(columnID)) {\r\n                    return GRAY_COLOR;\r\n                }\r\n                else if (typeof options.colors !== \"undefined\" &&\r\n                    options.colors !== null) {\r\n                    return options.colors[i];\r\n                }\r\n                else {\r\n                    return DEFAULT_CHART_COLORS[i];\r\n                }\r\n            });\r\n            googleChartWrapper.setOptions(__assign({}, options, { colors: colors }));\r\n            googleChartWrapper.draw();\r\n        };\r\n        _this.onResize = function () {\r\n            var googleChartWrapper = _this.props.googleChartWrapper;\r\n            googleChartWrapper.draw();\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChartDataTableInner.prototype.componentDidMount = function () {\r\n        this.draw(this.props);\r\n        window.addEventListener(\"resize\", this.onResize);\r\n        if (this.props.legend_toggle || this.props.legendToggle) {\r\n            this.listenToLegendToggle();\r\n        }\r\n    };\r\n    GoogleChartDataTableInner.prototype.componentWillUnmount = function () {\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        window.removeEventListener(\"resize\", this.onResize);\r\n        google.visualization.events.removeAllListeners(googleChartWrapper);\r\n        if (googleChartWrapper.getChartType() === \"Timeline\") {\r\n            googleChartWrapper.getChart() &&\r\n                googleChartWrapper.getChart().clearChart();\r\n        }\r\n    };\r\n    GoogleChartDataTableInner.prototype.componentDidUpdate = function () {\r\n        this.draw(this.props);\r\n    };\r\n    GoogleChartDataTableInner.prototype.render = function () {\r\n        return null;\r\n    };\r\n    return GoogleChartDataTableInner;\r\n}(Component));\r\nvar GoogleChartDataTable = (function (_super) {\r\n    __extends(GoogleChartDataTable, _super);\r\n    function GoogleChartDataTable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    GoogleChartDataTable.prototype.componentDidMount = function () { };\r\n    GoogleChartDataTable.prototype.componentWillUnmount = function () { };\r\n    GoogleChartDataTable.prototype.shouldComponentUpdate = function () {\r\n        return false;\r\n    };\r\n    GoogleChartDataTable.prototype.render = function () {\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper, googleChartDashboard = _a.googleChartDashboard;\r\n        return (createElement(ContextConsumer, { render: function (props) {\r\n                return (createElement(GoogleChartDataTableInner, __assign({}, props, { google: google, googleChartWrapper: googleChartWrapper, googleChartDashboard: googleChartDashboard })));\r\n            } }));\r\n    };\r\n    return GoogleChartDataTable;\r\n}(Component));\n\nvar GoogleChartEvents = (function (_super) {\r\n    __extends(GoogleChartEvents, _super);\r\n    function GoogleChartEvents() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    GoogleChartEvents.prototype.shouldComponentUpdate = function () {\r\n        return false;\r\n    };\r\n    GoogleChartEvents.prototype.listenToEvents = function (_a) {\r\n        var _this = this;\r\n        var chartEvents = _a.chartEvents, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        if (chartEvents === null) {\r\n            return;\r\n        }\r\n        google.visualization.events.removeAllListeners(googleChartWrapper);\r\n        var _loop_1 = function (event_1) {\r\n            var eventName = event_1.eventName, callback = event_1.callback;\r\n            google.visualization.events.addListener(googleChartWrapper, eventName, function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                callback({\r\n                    chartWrapper: googleChartWrapper,\r\n                    props: _this.props,\r\n                    google: google,\r\n                    eventArgs: args\r\n                });\r\n            });\r\n        };\r\n        for (var _i = 0, chartEvents_1 = chartEvents; _i < chartEvents_1.length; _i++) {\r\n            var event_1 = chartEvents_1[_i];\r\n            _loop_1(event_1);\r\n        }\r\n    };\r\n    GoogleChartEvents.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        return (createElement(ContextConsumer, { render: function (propsFromContext) {\r\n                _this.listenToEvents({\r\n                    chartEvents: propsFromContext.chartEvents || null,\r\n                    google: google,\r\n                    googleChartWrapper: googleChartWrapper\r\n                });\r\n                return null;\r\n            } }));\r\n    };\r\n    return GoogleChartEvents;\r\n}(Component));\n\nvar controlCounter = 0;\r\nvar GoogleChart = (function (_super) {\r\n    __extends(GoogleChart, _super);\r\n    function GoogleChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            googleChartWrapper: null,\r\n            googleChartDashboard: null,\r\n            googleChartControls: null,\r\n            googleChartEditor: null,\r\n            isReady: false\r\n        };\r\n        _this.graphID = null;\r\n        _this.dashboard_ref = createRef();\r\n        _this.toolbar_ref = createRef();\r\n        _this.getGraphID = function () {\r\n            var _a = _this.props, graphID = _a.graphID, graph_id = _a.graph_id;\r\n            var instanceGraphID;\r\n            if (graphID === null && graph_id === null) {\r\n                if (_this.graphID === null) {\r\n                    instanceGraphID = generateUniqueID();\r\n                }\r\n                else {\r\n                    instanceGraphID = _this.graphID;\r\n                }\r\n            }\r\n            else if (graphID !== null && graph_id === null) {\r\n                instanceGraphID = graphID;\r\n            }\r\n            else if (graph_id !== null && graphID === null) {\r\n                instanceGraphID = graph_id;\r\n            }\r\n            else {\r\n                instanceGraphID = graphID;\r\n            }\r\n            _this.graphID = instanceGraphID;\r\n            return _this.graphID;\r\n        };\r\n        _this.getControlID = function (id, index) {\r\n            controlCounter += 1;\r\n            var controlID;\r\n            if (typeof id === \"undefined\") {\r\n                controlID = \"googlechart-control-\" + index + \"-\" + controlCounter;\r\n            }\r\n            else {\r\n                controlID = id;\r\n            }\r\n            return controlID;\r\n        };\r\n        _this.addControls = function (googleChartWrapper, googleChartDashboard) {\r\n            var _a = _this.props, google = _a.google, controls = _a.controls;\r\n            var googleChartControls = controls === null\r\n                ? null\r\n                : controls.map(function (control, i) {\r\n                    var controlIDMaybe = control.controlID, controlType = control.controlType, controlOptions = control.options, controlWrapperParams = control.controlWrapperParams;\r\n                    var controlID = _this.getControlID(controlIDMaybe, i);\r\n                    return {\r\n                        controlProp: control,\r\n                        control: new google.visualization.ControlWrapper(__assign({ containerId: controlID, controlType: controlType, options: controlOptions }, controlWrapperParams))\r\n                    };\r\n                });\r\n            if (googleChartControls === null) {\r\n                return null;\r\n            }\r\n            googleChartDashboard.bind(googleChartControls.map(function (_a) {\r\n                var control = _a.control;\r\n                return control;\r\n            }), googleChartWrapper);\r\n            var _loop_1 = function (chartControl) {\r\n                var control = chartControl.control, controlProp = chartControl.controlProp;\r\n                var _a = controlProp.controlEvents, controlEvents = _a === void 0 ? [] : _a;\r\n                var _loop_2 = function (event_1) {\r\n                    var callback = event_1.callback, eventName = event_1.eventName;\r\n                    google.visualization.events.removeListener(control, eventName, callback);\r\n                    google.visualization.events.addListener(control, eventName, function () {\r\n                        var args = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            args[_i] = arguments[_i];\r\n                        }\r\n                        callback({\r\n                            chartWrapper: googleChartWrapper,\r\n                            controlWrapper: control,\r\n                            props: _this.props,\r\n                            google: google,\r\n                            eventArgs: args\r\n                        });\r\n                    });\r\n                };\r\n                for (var _i = 0, controlEvents_1 = controlEvents; _i < controlEvents_1.length; _i++) {\r\n                    var event_1 = controlEvents_1[_i];\r\n                    _loop_2(event_1);\r\n                }\r\n            };\r\n            for (var _i = 0, googleChartControls_1 = googleChartControls; _i < googleChartControls_1.length; _i++) {\r\n                var chartControl = googleChartControls_1[_i];\r\n                _loop_1(chartControl);\r\n            }\r\n            return googleChartControls;\r\n        };\r\n        _this.renderChart = function () {\r\n            var _a = _this.props, width = _a.width, height = _a.height, options = _a.options, style = _a.style, className = _a.className, rootProps = _a.rootProps, google = _a.google;\r\n            var divStyle = __assign({ height: height || (options && options.height), width: width || (options && options.width) }, style);\r\n            return (createElement(\"div\", __assign({ id: _this.getGraphID(), style: divStyle, className: className }, rootProps), _this.state.isReady && _this.state.googleChartWrapper !== null ? (createElement(Fragment, null,\r\n                createElement(GoogleChartDataTable, { googleChartWrapper: _this.state.googleChartWrapper, google: google, googleChartDashboard: _this.state.googleChartDashboard }),\r\n                createElement(GoogleChartEvents, { googleChartWrapper: _this.state.googleChartWrapper, google: google }))) : null));\r\n        };\r\n        _this.renderControl = function (filter) {\r\n            if (filter === void 0) { filter = function (_a) {\r\n                var control = _a.control, controlProp = _a.controlProp;\r\n                return true;\r\n            }; }\r\n            return _this.state.isReady && _this.state.googleChartControls !== null ? (createElement(Fragment, null, _this.state.googleChartControls\r\n                .filter(function (_a) {\r\n                var controlProp = _a.controlProp, control = _a.control;\r\n                return filter({ control: control, controlProp: controlProp });\r\n            })\r\n                .map(function (_a) {\r\n                var control = _a.control, controlProp = _a.controlProp;\r\n                return (createElement(\"div\", { key: control.getContainerId(), id: control.getContainerId() }));\r\n            }))) : null;\r\n        };\r\n        _this.renderToolBar = function () {\r\n            if (_this.props.toolbarItems === null)\r\n                return null;\r\n            return createElement(\"div\", { ref: _this.toolbar_ref });\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChart.prototype.componentDidMount = function () {\r\n        var _a = this.props, options = _a.options, google = _a.google, chartType = _a.chartType, chartWrapperParams = _a.chartWrapperParams, toolbarItems = _a.toolbarItems, getChartEditor = _a.getChartEditor, getChartWrapper = _a.getChartWrapper;\r\n        var chartConfig = __assign({ chartType: chartType,\r\n            options: options, containerId: this.getGraphID() }, chartWrapperParams);\r\n        var googleChartWrapper = new google.visualization.ChartWrapper(chartConfig);\r\n        googleChartWrapper.setOptions(options);\r\n        getChartWrapper(googleChartWrapper, google);\r\n        var googleChartDashboard = new google.visualization.Dashboard(this.dashboard_ref);\r\n        var googleChartControls = this.addControls(googleChartWrapper, googleChartDashboard);\r\n        if (toolbarItems !== null) {\r\n            google.visualization.drawToolbar(this.toolbar_ref.current, toolbarItems);\r\n        }\r\n        var googleChartEditor = null;\r\n        if (getChartEditor !== null) {\r\n            googleChartEditor = new google.visualization.ChartEditor();\r\n            getChartEditor({\r\n                chartEditor: googleChartEditor,\r\n                chartWrapper: googleChartWrapper,\r\n                google: google\r\n            });\r\n        }\r\n        this.setState({\r\n            googleChartEditor: googleChartEditor,\r\n            googleChartControls: googleChartControls,\r\n            googleChartDashboard: googleChartDashboard,\r\n            googleChartWrapper: googleChartWrapper,\r\n            isReady: true\r\n        });\r\n    };\r\n    GoogleChart.prototype.componentDidUpdate = function () {\r\n        if (this.state.googleChartWrapper === null)\r\n            return;\r\n        if (this.state.googleChartDashboard === null)\r\n            return;\r\n        if (this.state.googleChartControls === null)\r\n            return;\r\n        var controls = this.props.controls;\r\n        for (var i = 0; i < controls.length; i += 1) {\r\n            var _a = controls[i], controlType = _a.controlType, options = _a.options, controlWrapperParams = _a.controlWrapperParams;\r\n            if (controlWrapperParams && \"state\" in controlWrapperParams) {\r\n                this.state.googleChartControls[i].control.setState(controlWrapperParams[\"state\"]);\r\n            }\r\n            this.state.googleChartControls[i].control.setOptions(options);\r\n            this.state.googleChartControls[i].control.setControlType(controlType);\r\n        }\r\n    };\r\n    GoogleChart.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return (this.state.isReady !== nextState.isReady ||\r\n            nextProps.controls !== this.props.controls);\r\n    };\r\n    GoogleChart.prototype.render = function () {\r\n        var _a = this.props, width = _a.width, height = _a.height, options = _a.options, style = _a.style;\r\n        var divStyle = __assign({ height: height || (options && options.height), width: width || (options && options.width) }, style);\r\n        if (this.props.render !== null) {\r\n            return (createElement(\"div\", { ref: this.dashboard_ref, style: divStyle },\r\n                createElement(\"div\", { ref: this.toolbar_ref, id: \"toolbar\" }),\r\n                this.props.render({\r\n                    renderChart: this.renderChart,\r\n                    renderControl: this.renderControl,\r\n                    renderToolbar: this.renderToolBar\r\n                })));\r\n        }\r\n        else {\r\n            return (createElement(\"div\", { ref: this.dashboard_ref, style: divStyle },\r\n                this.renderControl(function (_a) {\r\n                    var controlProp = _a.controlProp;\r\n                    return controlProp.controlPosition !== \"bottom\";\r\n                }),\r\n                this.renderChart(),\r\n                this.renderControl(function (_a) {\r\n                    var controlProp = _a.controlProp;\r\n                    return controlProp.controlPosition === \"bottom\";\r\n                }),\r\n                this.renderToolBar()));\r\n        }\r\n    };\r\n    return GoogleChart;\r\n}(Component));\n\nvar Chart = (function (_super) {\r\n    __extends(Chart, _super);\r\n    function Chart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._isMounted = false;\r\n        _this.state = {\r\n            loadingStatus: \"loading\",\r\n            google: null\r\n        };\r\n        _this.onLoad = function (google) {\r\n            if (_this.isFullyLoaded(google)) {\r\n                _this.onSuccess(google);\r\n            }\r\n            else {\r\n                var id_1 = setInterval(function () {\r\n                    var google = window.google;\r\n                    if (_this._isMounted) {\r\n                        if (google && _this.isFullyLoaded(google)) {\r\n                            clearInterval(id_1);\r\n                            _this.onSuccess(google);\r\n                        }\r\n                    }\r\n                    else {\r\n                        clearInterval(id_1);\r\n                    }\r\n                }, 1000);\r\n            }\r\n        };\r\n        _this.onSuccess = function (google) {\r\n            _this.setState({\r\n                loadingStatus: \"ready\",\r\n                google: google\r\n            });\r\n        };\r\n        _this.onError = function () {\r\n            _this.setState({\r\n                loadingStatus: \"errored\"\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    Chart.prototype.render = function () {\r\n        var _a = this.props, chartLanguage = _a.chartLanguage, chartPackages = _a.chartPackages, chartVersion = _a.chartVersion, mapsApiKey = _a.mapsApiKey, loader = _a.loader, errorElement = _a.errorElement;\r\n        return (createElement(ContextProvider, { value: this.props },\r\n            this.state.loadingStatus === \"ready\" && this.state.google !== null ? (createElement(GoogleChart, __assign({}, this.props, { google: this.state.google }))) : this.state.loadingStatus === \"errored\" && errorElement ? (errorElement) : (loader),\r\n            createElement(GoogleChartLoader, __assign({}, { chartLanguage: chartLanguage, chartPackages: chartPackages, chartVersion: chartVersion, mapsApiKey: mapsApiKey }, { onLoad: this.onLoad, onError: this.onError }))));\r\n    };\r\n    Chart.prototype.componentDidMount = function () {\r\n        this._isMounted = true;\r\n    };\r\n    Chart.prototype.componentWillUnmount = function () {\r\n        this._isMounted = false;\r\n    };\r\n    Chart.prototype.isFullyLoaded = function (google) {\r\n        var _a = this.props, controls = _a.controls, toolbarItems = _a.toolbarItems, getChartEditor = _a.getChartEditor;\r\n        return (google &&\r\n            google.visualization &&\r\n            google.visualization.ChartWrapper &&\r\n            google.visualization.Dashboard &&\r\n            (!controls || google.visualization.ChartWrapper) &&\r\n            (!getChartEditor || google.visualization.ChartEditor) &&\r\n            (!toolbarItems || google.visualization.drawToolbar));\r\n    };\r\n    Chart.defaultProps = chartDefaultProps;\r\n    return Chart;\r\n}(Component));\n\nexport default Chart;\nexport { Chart };\n","import { PanelPlugin } from '@grafana/data';\nimport { SankeyOptions } from './types';\nimport { SankeyPanel } from './SankeyPanel';\n\nexport const plugin = new PanelPlugin<SankeyOptions>(SankeyPanel).setPanelOptions((builder) => builder);\n","import React from 'react';\nimport { PanelProps } from '@grafana/data';\nimport { SankeyOptions } from 'types';\nimport Chart from 'react-google-charts';\n\ninterface Props extends PanelProps<SankeyOptions> {}\n\nexport const SankeyPanel: React.FC<Props> = ({ options, data, width, height }) => {\n  let result = [\n    ['From', 'To', 'Bytes'],\n    ['Source Pod', 'Destination Pod', 0.1],\n  ];\n  let source = data.series\n    .map((series) => series.fields.find((field) => field.name === 'sourcePodName'))\n    .map((field) => {\n      let record = field?.values as any;\n      return record?.buffer;\n    })[0];\n  if (source !== undefined) {\n    let destination = data.series\n      .map((series) => series.fields.find((field) => field.name === 'destinationPodName'))\n      .map((field) => {\n        let record = field?.values as any;\n        return record?.buffer;\n      })[0];\n    let destinationIP = data.series\n      .map((series) => series.fields.find((field) => field.name === 'destinationIP'))\n      .map((field) => {\n        let record = field?.values as any;\n        return record?.buffer;\n      })[0];\n    let bytes = data.series\n      .map((series) => series.fields.find((field) => field.name === 'bytes'))\n      .map((field) => {\n        let record = field?.values as any;\n        return record?.buffer;\n      })[0];\n    let n = source.length;\n    for (let i = 0; i < n; i++) {\n      let record = [];\n      record.push(source[i]);\n      if (destination[i] === '') {\n        record.push(destinationIP[i]);\n      } else {\n        record.push(destination[i]);\n      }\n      record.push(bytes[i]);\n      result.push(record);\n    }\n  }\n  return (\n    <div>\n      <Chart width={600} height={'600px'} chartType=\"Sankey\" loader={<div>Loading Chart</div>} data={result} />\n    </div>\n  );\n};\n"],"sourceRoot":""}